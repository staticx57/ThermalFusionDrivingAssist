WARNING:root:VPI not available
WARNING:root:jtop not available. Install with: sudo pip3 install jetson-stats
INFO:root:[OK] Debug logging enabled: thermal_fusion_debug.log (10MB x5 files)
2025-12-01 20:00:15,633 - root - INFO - [OK] Debug logging enabled: thermal_fusion_debug.log (10MB x5 files)
INFO:__main__:QApplication initialized (Qt GUI)

╔══════════════════════════════════════════════════════════════╗
║   FLIR Thermal + RGB Fusion Road Monitor v3.5              ║
║   Qt Professional GUI | Jetson Orin & x86-64               ║
╠══════════════════════════════════════════════════════════════╣
║  Keyboard Controls:                                          ║
║    Q/ESC - Quit          F - Fullscreen      D - Detections  ║
║    Y - Toggle YOLO       V - Cycle Views     S - Screenshot  ║
║    C - Cycle Palettes    G - Device Toggle   P - Stats       ║
║    A - Toggle Audio      (v3.0 Audio Alerts)                ║
║                                                               ║
║  GUI Buttons (click):                                        ║
║    Row 1: PAL, YOLO, BOX, DEV, MODEL                        ║
║    Row 2: FLUSH, AUDIO, SKIP, VIEW, FUS, α                  ║
║                                                               ║
║  View Modes: Thermal, RGB, Fusion, Side-by-Side, PIP       ║
║  Fusion Modes: Alpha Blend, Edge Enhanced, Thermal Overlay  ║
║                Side-by-Side, PIP, Max Intensity, Weighted   ║
║                                                               ║
║  v3.0 Smart Features:                                        ║
║    • Distance estimation with TTC warnings                   ║
║    • ISO 26262 compliant audio alerts (1.5-2 kHz)          ║
║    • RED PULSE alerts on sides for pedestrians/animals      ║
║    • Directional proximity warnings (left/right/center)     ║
║    • Multi-view support for optimal situational awareness   ║
╚══════════════════════════════════════════════════════════════╝
    
2025-12-01 20:00:15,666 - __main__ - INFO - QApplication initialized (Qt GUI)
INFO:__main__:Platform detection: {'machine': 'AMD64', 'is_jetson': False, 'is_arm': False, 'is_x86': True, 'system': 'Windows', 'platform': 'Windows-10-10.0.26200-SP0'}
2025-12-01 20:00:15,692 - __main__ - INFO - Platform detection: {'machine': 'AMD64', 'is_jetson': False, 'is_arm': False, 'is_x86': True, 'system': 'Windows', 'platform': 'Windows-10-10.0.26200-SP0'}
INFO:camera_registry:Loaded camera assignment: FLIR Boson 640x512 (Camera 1) -> thermal
2025-12-01 20:00:15,694 - camera_registry - INFO - Loaded camera assignment: FLIR Boson 640x512 (Camera 1) -> thermal
INFO:camera_registry:Loaded camera assignment: Camera 2 (DSHOW) -> rgb
2025-12-01 20:00:15,694 - camera_registry - INFO - Loaded camera assignment: Camera 2 (DSHOW) -> rgb
INFO:camera_registry:Loaded camera assignment: Camera 1 (DSHOW) -> rgb
2025-12-01 20:00:15,695 - camera_registry - INFO - Loaded camera assignment: Camera 1 (DSHOW) -> rgb
INFO:__main__:Initializing Thermal + RGB Fusion Road Monitor...
2025-12-01 20:00:15,695 - __main__ - INFO - Initializing Thermal + RGB Fusion Road Monitor...
INFO:__main__:Platform: x86-64 (AMD64)
2025-12-01 20:00:15,696 - __main__ - INFO - Platform: x86-64 (AMD64)
INFO:__main__:Using manually assigned thermal camera: device 0
2025-12-01 20:00:15,697 - __main__ - INFO - Using manually assigned thermal camera: device 0
INFO:__main__:Opening thermal camera device 0...
2025-12-01 20:00:15,697 - __main__ - INFO - Opening thermal camera device 0...
INFO:flir_camera:Windows detected - trying DirectShow backend
2025-12-01 20:00:15,697 - flir_camera - INFO - Windows detected - trying DirectShow backend
INFO:flir_camera:FLIR Boson camera opened successfully on device 0
2025-12-01 20:00:17,122 - flir_camera - INFO - FLIR Boson camera opened successfully on device 0
INFO:flir_camera:Resolution: (640, 512)
2025-12-01 20:00:17,123 - flir_camera - INFO - Resolution: (640, 512)
INFO:flir_camera:FPS: 60.000240000960005
2025-12-01 20:00:17,123 - flir_camera - INFO - FPS: 60.000240000960005
INFO:__main__:[OK] Thermal camera connected: 640x512
2025-12-01 20:00:17,123 - __main__ - INFO - [OK] Thermal camera connected: 640x512
INFO:__main__:Detecting RGB cameras (FLIR Firefly or UVC)...
2025-12-01 20:00:17,123 - __main__ - INFO - Detecting RGB cameras (FLIR Firefly or UVC)...
INFO:__main__:Skipping thermal camera device 0 during RGB detection
2025-12-01 20:00:17,123 - __main__ - INFO - Skipping thermal camera device 0 during RGB detection
INFO:camera_factory:Skipping thermal camera device 0, using next available device
2025-12-01 20:00:17,123 - camera_factory - INFO - Skipping thermal camera device 0, using next available device
INFO:camera_factory:============================================================
2025-12-01 20:00:17,123 - camera_factory - INFO - ============================================================
INFO:camera_factory:RGB Camera Factory - Auto-detection
2025-12-01 20:00:17,123 - camera_factory - INFO - RGB Camera Factory - Auto-detection
INFO:camera_factory:============================================================
2025-12-01 20:00:17,124 - camera_factory - INFO - ============================================================
INFO:camera_factory:Auto-detecting RGB cameras...
2025-12-01 20:00:17,124 - camera_factory - INFO - Auto-detecting RGB cameras...
INFO:rgb_camera_firefly:Number of FLIR cameras detected: 1
2025-12-01 20:00:17,763 - rgb_camera_firefly - INFO - Number of FLIR cameras detected: 1
INFO:rgb_camera_firefly:Found FLIR camera 0: Firefly FFY-U3-16S2C-DL (S/N: 21304514)
2025-12-01 20:00:17,763 - rgb_camera_firefly - INFO - Found FLIR camera 0: Firefly FFY-U3-16S2C-DL (S/N: 21304514)
ERROR:rgb_camera_firefly:Spinnaker error during detection: Spinnaker: Can't clear a camera because something still holds a reference to the camera [-1004]
2025-12-01 20:00:17,763 - rgb_camera_firefly - ERROR - Spinnaker error during detection: Spinnaker: Can't clear a camera because something still holds a reference to the camera [-1004]
Unhandled exception caught in c10/util/AbortHandler.h
00007FFBA3F69BE600007FFBA3F606A0 torch_python.dll!torch::autograd::THPCppFunction_requires_grad [<unknown file> @ <unknown line number>]
00007FFC63F119D700007FFC63F119C0 ucrtbase.dll!terminate [<unknown file> @ <unknown line number>]
00007FFC442B309400007FFC442B2540 VCRUNTIME140.dll!is_exception_typeof [<unknown file> @ <unknown line number>]
00007FFC442B402400007FFC442B2540 VCRUNTIME140.dll!is_exception_typeof [<unknown file> @ <unknown line number>]
00007FFC442BFA2100007FFC442BF9B0 VCRUNTIME140.dll!_CxxFrameHandler3 [<unknown file> @ <unknown line number>]
00007FFC665C63FF00007FFC665C6360 ntdll.dll!_chkstk [<unknown file> @ <unknown line number>]
00007FFC6647232700007FFC66471D90 ntdll.dll!RtlLocateExtendedFeature [<unknown file> @ <unknown line number>]
00007FFC6646A96100007FFC6646A740 ntdll.dll!RtlRaiseException [<unknown file> @ <unknown line number>]
00007FFC63A680DA00007FFC63A68050 KERNELBASE.dll!RaiseException [<unknown file> @ <unknown line number>]
00007FFC442B648000007FFC442B63F0 VCRUNTIME140.dll!CxxThrowException [<unknown file> @ <unknown line number>]
00007FFB7903556C00007FFB79035280 Spinnaker_v140.dll!Spinnaker::System::ReleaseInstance [<unknown file> @ <unknown line number>]
00007FFB790337CA00007FFB790336B0 Spinnaker_v140.dll!Spinnaker::SystemPtr::~SystemPtr [<unknown file> @ <unknown line number>]
00007FFB78F90DFB00007FFB78F90DB0 Spinnaker_v140.dll!Spinnaker::BasePtr<Spinnaker::ISystem,Spinnaker::ISystem>::~BasePtr<Spinnaker::ISystem,Spinnaker::ISystem> [<unknown file> @ <unknown line number>]
00007FFB868F37F5 <unknown symbol address> _PySpin.cp310-win_amd64.pyd!<unknown symbol> [<unknown file> @ <unknown line number>]
00007FFB86E2161A <unknown symbol address> _PySpin.cp310-win_amd64.pyd!<unknown symbol> [<unknown file> @ <unknown line number>]
00007FFBC0AC9F1900007FFBC0AC9E18 python310.dll!PyObject_IsTrue [<unknown file> @ <unknown line number>]
00007FFBC0B0EADB00007FFBC0B0E218 python310.dll!PyObject_SetAttr [<unknown file> @ <unknown line number>]
00007FFBC0B0CE6700007FFBC0B0CCD4 python310.dll!PyObject_CallMethodIdObjArgs [<unknown file> @ <unknown line number>]
00007FFBC0B3768100007FFBC0B37654 python310.dll!PyObject_CallFunctionObjArgs [<unknown file> @ <unknown line number>]
00007FFB868F1BF9 <unknown symbol address> _PySpin.cp310-win_amd64.pyd!<unknown symbol> [<unknown file> @ <unknown line number>]
00007FFBC0ACBC9E00007FFBC0ACA678 python310.dll!PyObject_GetDictPtr [<unknown file> @ <unknown line number>]
00007FFBC0ACA32300007FFBC0AC9E18 python310.dll!PyObject_IsTrue [<unknown file> @ <unknown line number>]
00007FFBC0B244F600007FFBC0B23960 python310.dll!Py_NewReference [<unknown file> @ <unknown line number>]
00007FFBC0B249FA00007FFBC0B24950 python310.dll!PyFunction_Vectorcall [<unknown file> @ <unknown line number>]
00007FFBC0B2603300007FFBC0B258A0 python310.dll!PyEval_EvalFrameDefault [<unknown file> @ <unknown line number>]
00007FFBC0B249D700007FFBC0B24950 python310.dll!PyFunction_Vectorcall [<unknown file> @ <unknown line number>]
00007FFBC0B2BACD00007FFBC0B258A0 python310.dll!PyEval_EvalFrameDefault [<unknown file> @ <unknown line number>]
00007FFBC0B26A9400007FFBC0B258A0 python310.dll!PyEval_EvalFrameDefault [<unknown file> @ <unknown line number>]
00007FFBC0B249D700007FFBC0B24950 python310.dll!PyFunction_Vectorcall [<unknown file> @ <unknown line number>]
00007FFBC0B2603300007FFBC0B258A0 python310.dll!PyEval_EvalFrameDefault [<unknown file> @ <unknown line number>]
00007FFBC0ADA1CD00007FFBC0ADA0EC python310.dll!PyType_CalculateMetaclass [<unknown file> @ <unknown line number>]
00007FFBC0B3AD0600007FFBC0B3AC84 python310.dll!PyEval_EvalCode [<unknown file> @ <unknown line number>]
00007FFBC0B3A9CA00007FFBC0B3A840 python310.dll!PyArena_New [<unknown file> @ <unknown line number>]
00007FFBC0B3A94A00007FFBC0B3A840 python310.dll!PyArena_New [<unknown file> @ <unknown line number>]
00007FFBC0BBF39400007FFBC0BBF12C python310.dll!PyRun_SimpleFileObject [<unknown file> @ <unknown line number>]
00007FFBC0BBF24900007FFBC0BBF12C python310.dll!PyRun_SimpleFileObject [<unknown file> @ <unknown line number>]
00007FFBC0BBDD2000007FFBC0BBDCCC python310.dll!PyRun_AnyFileObject [<unknown file> @ <unknown line number>]
00007FFBC0BBD9A300007FFBC0BBD648 python310.dll!Py_MakePendingCalls [<unknown file> @ <unknown line number>]
00007FFBC0BBD85F00007FFBC0BBD648 python310.dll!Py_MakePendingCalls [<unknown file> @ <unknown line number>]
00007FFBC0B33A3000007FFBC0B338AC python310.dll!Py_RunMain [<unknown file> @ <unknown line number>]
00007FFBC0B338C100007FFBC0B338AC python310.dll!Py_RunMain [<unknown file> @ <unknown line number>]
00007FFBC0B332D900007FFBC0B332B4 python310.dll!Py_Main [<unknown file> @ <unknown line number>]
00007FF6F7161230 <unknown symbol address> python.exe!<unknown symbol> [<unknown file> @ <unknown line number>]
00007FFC6580E8D700007FFC6580E8C0 KERNEL32.DLL!BaseThreadInitThunk [<unknown file> @ <unknown line number>]
00007FFC664EC53C00007FFC664EC510 ntdll.dll!RtlUserThreadStart [<unknown file> @ <unknown line number>]

Fatal Python error: Aborted

Current thread 0x0000f760 (most recent call first):
  File "C:\Users\stati\Desktop\Projects\ThermalFusionDrivingAssist\camera_factory.py", line 179 in create_rgb_camera
  File "C:\Users\stati\Desktop\Projects\ThermalFusionDrivingAssist\main.py", line 501 in initialize
  File "C:\Users\stati\Desktop\Projects\ThermalFusionDrivingAssist\main.py", line 1467 in main
  File "C:\Users\stati\Desktop\Projects\ThermalFusionDrivingAssist\main.py", line 1476 in <module>

Extension modules: numpy.core._multiarray_umath, numpy.core._multiarray_tests, numpy.linalg._umath_linalg, numpy.fft._pocketfft_internal, numpy.random._common, numpy.random.bit_generator, numpy.random._bounded_integers, numpy.random._mt19937, numpy.random.mtrand, numpy.random._philox, numpy.random._pcg64, numpy.random._sfc64, numpy.random._generator, torch._C, torch._C._dynamo.autograd_compiler, torch._C._dynamo.eval_frame, torch._C._dynamo.guards, torch._C._dynamo.utils, torch._C._fft, torch._C._linalg, torch._C._nested, torch._C._nn, torch._C._sparse, torch._C._special, yaml._yaml, PIL._imaging, PIL._imagingft, psutil._psutil_windows, PyQt5.QtCore, PyQt5.QtGui, PyQt5.QtWidgets, PySpin._PySpin (total: 32)
